{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","services/pixabayAPI.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","search","onChange","e","setState","currentTarget","value","onSubmit","preventDefault","props","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","largeImageURL","dataSource","handleImgClick","onClick","src","alt","ImageGalleryItemImage","pixabayApi","fetchPixabayAPI","numberOfPage","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","clickOnBackdrop","target","window","addEventListener","removeEventListener","createPortal","Overlay","Button","onHandleClick","containerButton","ImageGallery","modal","modalImg","page","error","loader","img","toggleModal","prevProps","prevState","prevName","nextName","prevPage","nextPage","hits","length","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","map","id","webformatURL","Loader","color","height","width","timeout","App","handleSubmit","text","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0e2b076b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2M-cv\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1ChYc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__10Xsg\",\"Modal\":\"Modal_Modal__1xnQu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerButton\":\"Button_containerButton__2VIp5\",\"Button\":\"Button_Button__2RlmO\"};","import s from './Searchbar.module.css';\r\nimport {Component} from 'react';\r\n\r\nclass Searchbar extends Component {\r\n   \r\n    state = {\r\n        search: '',\r\n    }\r\n\r\n    onChange = (e) =>{\r\n        this.setState({search: e.currentTarget.value})\r\n    }\r\n\r\n    onSubmit = (e) =>{\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.search);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <header className={s.Searchbar}>\r\n                <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n                    <input\r\n                    className={s.SearchFormInput}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={this.state.search}\r\n                    onChange={this.onChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n            )\r\n    }\r\n    \r\n}\r\n\r\nexport default Searchbar;","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem ({largeImageURL = '', dataSource = '', handleImgClick}){\r\n    return(\r\n        <li className={s.ImageGalleryItem} onClick={()=> handleImgClick(largeImageURL)}>\r\n            <img src={dataSource} alt=\"\" className={s.ImageGalleryItemImage}/>\r\n        </li>\r\n    )\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    dataSource: PropTypes.string.isRequired\r\n}","\r\nconst KEY = '19404590-ebb1cf59ef1b71a0170f01254';\r\n\r\nfunction fetchPixabayAPI (search, numberOfPage){\r\n    return fetch(`https://pixabay.com/api/?q=${search}&page=${numberOfPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n    .then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Нет ответа по запросу: ${search}`));\r\n    });\r\n}\r\n\r\nconst pixabayApi = {\r\n  fetchPixabayAPI,\r\n};\r\nexport default pixabayApi;","import s from './Modal.module.css';\r\nimport {Component} from 'react';\r\nimport {createPortal} from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount(){\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if(e.code === 'Escape'){\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    clickOnBackdrop = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            createPortal(\r\n                <div className={s.Overlay} onClick={this.clickOnBackdrop}>\r\n                    <div className={s.Modal}>\r\n                        <img src={this.props.largeImageURL} alt=\"\" />\r\n                    </div>\r\n                </div>, \r\n                modalRoot)\r\n        )\r\n    }\r\n}\r\nexport default Modal;\r\n","import s from './Button.module.css';\r\n\r\nfunction Button ({onHandleClick}){\r\n    return(\r\n        <div className={s.containerButton}>\r\n            <button className={s.Button} type=\"button\" onClick={onHandleClick}>Load more</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Button;","import s from \"./ImageGallery.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport pixabayApi from '../../services/pixabayAPI';\r\nimport {Component} from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button/Button';\r\n\r\nclass ImageGallery extends Component {\r\n    state = {\r\n        search: [],\r\n        modal: false,\r\n        modalImg: '',\r\n        page: 1,\r\n        error: null,\r\n        loader: false\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const prevName = prevProps.value;\r\n        const nextName = this.props.value;\r\n        const prevPage = prevState.page;\r\n        const nextPage = this.state.page;\r\n\r\n        if (prevName !== nextName) {\r\n            this.setState({ loader: true });\r\n                pixabayApi\r\n            .fetchPixabayAPI(nextName, nextPage)\r\n            .then(response => {\r\n                if(response.hits.length === 0){\r\n                    this.setState({error: 'No images'})\r\n                };\r\n                this.setState({search: response.hits})})\r\n            .catch(error => this.setState({ error}))\r\n            .finally(()=> {\r\n                this.setState({loader:false})\r\n            })\r\n        }\r\n\r\n        if (prevPage !== nextPage) {\r\n            this.setState({ loader: true });\r\n            pixabayApi\r\n                .fetchPixabayAPI(nextName, nextPage)\r\n                .then(response => this.setState(prevState =>({search: [...prevState.search, ...response.hits]})))\r\n                .catch(error => this.setState({error}))\r\n                .finally(()=>{\r\n                    this.setState({ loader: false });\r\n                    window.scrollTo({                 \r\n                        top: document.documentElement.scrollHeight,                 \r\n                        behavior: 'smooth'})\r\n                })\r\n        }\r\n    }\r\n\r\n    handleImgClick = img => {\r\n        this.setState({modalImg: img, modal: true})\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState({modal: false});\r\n    }\r\n\r\n    onHandleClick = () => {\r\n        this.setState({page: this.state.page + 1});\r\n    }\r\n\r\n    render() {\r\n        const {modal, error, loader, search} = this.state;\r\n\r\n        return(\r\n            <>\r\n                <ul className={s.ImageGallery}>\r\n                    {this.state.search.map(({id, largeImageURL, webformatURL}) =>(\r\n                        <div key={id} >\r\n                            <ImageGalleryItem largeImageURL={largeImageURL} dataSource={webformatURL} handleImgClick={this.handleImgClick}/>\r\n                        </div>\r\n                    ))}\r\n                </ul>\r\n                {search.length>0 && <Button onHandleClick={this.onHandleClick} />}\r\n                {modal && <Modal largeImageURL={this.state.modalImg} onClose={this.toggleModal}/>}\r\n                {loader && <div className={s.Loader}>\r\n                    <Loader type=\"ThreeDots\" color=\"#FF1493\" height={80} width={80} timeout={3000} />\r\n                </div>}\r\n                {error && <div className={s.Error}><h2>Произошла ошибка, повторите поиск/An error occurred, please try again</h2></div>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import './App.css';\nimport {Component} from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    search: ''\n  }\n\n  handleSubmit = text => {\n    this.setState({search: text})\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSubmit}/>\n        <ImageGallery value={this.state.search}/>\n      </div>\n    )\n  }\n  \n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2h1A6\",\"SearchForm\":\"Searchbar_SearchForm__1yuJ3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2J7Nv\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1kuJP\",\"SearchFormInput\":\"Searchbar_SearchFormInput__Oh9-Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__11o0W\",\"Loader\":\"ImageGallery_Loader__2fyiP\",\"Error\":\"ImageGallery_Error__3LEY3\"};"],"sourceRoot":""}